package chatroom:inbox-exports;

interface chatroom-inbox-api {
  use chatroom:common/types.{ room-message };
  record message-with-id {
    id: u64,
    message: room-message,
  }
  poll-messages: func(after: u64, batch-size: u8) -> list<message-with-id>;
  receive-message: func(msg: room-message);
}

interface chatroom-inbox-inline-functions {}
